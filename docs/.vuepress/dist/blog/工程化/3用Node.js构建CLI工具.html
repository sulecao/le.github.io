<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>CLI 与GUI介绍 | 曹乐乐的博客</title>
    <meta name="generator" content="VuePress 1.9.7">
    
    <meta name="description" content="曹乐乐的博客">
    
    <link rel="preload" href="/assets/css/0.styles.5f17164d.css" as="style"><link rel="preload" href="/assets/js/app.fdf1d93e.js" as="script"><link rel="preload" href="/assets/js/2.07a58c5b.js" as="script"><link rel="preload" href="/assets/js/48.2ad9a324.js" as="script"><link rel="prefetch" href="/assets/js/10.4150cfd4.js"><link rel="prefetch" href="/assets/js/11.6765a058.js"><link rel="prefetch" href="/assets/js/12.13ff42eb.js"><link rel="prefetch" href="/assets/js/13.6ce5732c.js"><link rel="prefetch" href="/assets/js/14.070af781.js"><link rel="prefetch" href="/assets/js/15.23bba5f9.js"><link rel="prefetch" href="/assets/js/16.dc60a072.js"><link rel="prefetch" href="/assets/js/17.670ce392.js"><link rel="prefetch" href="/assets/js/18.31df696f.js"><link rel="prefetch" href="/assets/js/19.0afd4116.js"><link rel="prefetch" href="/assets/js/20.4c748499.js"><link rel="prefetch" href="/assets/js/21.3aa4b0bf.js"><link rel="prefetch" href="/assets/js/22.de10d1ac.js"><link rel="prefetch" href="/assets/js/23.f15ae632.js"><link rel="prefetch" href="/assets/js/24.086120e5.js"><link rel="prefetch" href="/assets/js/25.d9758788.js"><link rel="prefetch" href="/assets/js/26.4cf5343b.js"><link rel="prefetch" href="/assets/js/27.8c626774.js"><link rel="prefetch" href="/assets/js/28.1334e3f2.js"><link rel="prefetch" href="/assets/js/29.f0f86908.js"><link rel="prefetch" href="/assets/js/3.63acc60a.js"><link rel="prefetch" href="/assets/js/30.ccb08c8f.js"><link rel="prefetch" href="/assets/js/31.15a648d6.js"><link rel="prefetch" href="/assets/js/32.d22ae5f4.js"><link rel="prefetch" href="/assets/js/33.da1f97ee.js"><link rel="prefetch" href="/assets/js/34.ed44f4a3.js"><link rel="prefetch" href="/assets/js/35.24064e1d.js"><link rel="prefetch" href="/assets/js/36.dbd7d03f.js"><link rel="prefetch" href="/assets/js/37.e2a4ac65.js"><link rel="prefetch" href="/assets/js/38.6a9661f9.js"><link rel="prefetch" href="/assets/js/39.1fdb657d.js"><link rel="prefetch" href="/assets/js/4.13d9dc14.js"><link rel="prefetch" href="/assets/js/40.c0c20697.js"><link rel="prefetch" href="/assets/js/41.9b011cdb.js"><link rel="prefetch" href="/assets/js/42.c7ed81b4.js"><link rel="prefetch" href="/assets/js/43.af960231.js"><link rel="prefetch" href="/assets/js/44.7f72520f.js"><link rel="prefetch" href="/assets/js/45.6a849f65.js"><link rel="prefetch" href="/assets/js/46.f7436522.js"><link rel="prefetch" href="/assets/js/47.b074fa6f.js"><link rel="prefetch" href="/assets/js/49.67b21669.js"><link rel="prefetch" href="/assets/js/5.96b913ab.js"><link rel="prefetch" href="/assets/js/50.11cffc73.js"><link rel="prefetch" href="/assets/js/51.71f6236a.js"><link rel="prefetch" href="/assets/js/52.0ac6746b.js"><link rel="prefetch" href="/assets/js/53.a888350c.js"><link rel="prefetch" href="/assets/js/54.12108c56.js"><link rel="prefetch" href="/assets/js/55.7c12b301.js"><link rel="prefetch" href="/assets/js/56.cba6814d.js"><link rel="prefetch" href="/assets/js/57.f5a1f1ab.js"><link rel="prefetch" href="/assets/js/6.30321463.js"><link rel="prefetch" href="/assets/js/7.0c3e09a8.js"><link rel="prefetch" href="/assets/js/8.c5e278a2.js"><link rel="prefetch" href="/assets/js/9.2c3ca298.js">
    <link rel="stylesheet" href="/assets/css/0.styles.5f17164d.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">曹乐乐的博客</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="目录" class="dropdown-title"><span class="title">目录</span> <span class="arrow down"></span></button> <button type="button" aria-label="目录" class="mobile-dropdown-title"><span class="title">目录</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blog/算法/0算法题.html" class="nav-link">
  算法
</a></li><li class="dropdown-item"><!----> <a href="/blog/js/1基础类型.html" class="nav-link">
  javascript
</a></li><li class="dropdown-item"><!----> <a href="/blog/ts/1安装和编译.html" class="nav-link">
  typescript
</a></li><li class="dropdown-item"><!----> <a href="/blog/react/1基础.html" class="nav-link">
  React
</a></li><li class="dropdown-item"><!----> <a href="/blog/react实现/1redux实现.html" class="nav-link">
  React实现
</a></li><li class="dropdown-item"><!----> <a href="/blog/node/1Node入门.html" class="nav-link">
  Node
</a></li><li class="dropdown-item"><!----> <a href="/blog/工程化/1webpack的常用loader和plugin.html" class="nav-link">
  工程化
</a></li><li class="dropdown-item"><!----> <a href="/blog/通信/1AJAX.html" class="nav-link">
  通信
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="留言" class="dropdown-title"><span class="title">留言</span> <span class="arrow down"></span></button> <button type="button" aria-label="留言" class="mobile-dropdown-title"><span class="title">留言</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blog/message/message.html" class="nav-link">
  留言
</a></li></ul></div></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="目录" class="dropdown-title"><span class="title">目录</span> <span class="arrow down"></span></button> <button type="button" aria-label="目录" class="mobile-dropdown-title"><span class="title">目录</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blog/算法/0算法题.html" class="nav-link">
  算法
</a></li><li class="dropdown-item"><!----> <a href="/blog/js/1基础类型.html" class="nav-link">
  javascript
</a></li><li class="dropdown-item"><!----> <a href="/blog/ts/1安装和编译.html" class="nav-link">
  typescript
</a></li><li class="dropdown-item"><!----> <a href="/blog/react/1基础.html" class="nav-link">
  React
</a></li><li class="dropdown-item"><!----> <a href="/blog/react实现/1redux实现.html" class="nav-link">
  React实现
</a></li><li class="dropdown-item"><!----> <a href="/blog/node/1Node入门.html" class="nav-link">
  Node
</a></li><li class="dropdown-item"><!----> <a href="/blog/工程化/1webpack的常用loader和plugin.html" class="nav-link">
  工程化
</a></li><li class="dropdown-item"><!----> <a href="/blog/通信/1AJAX.html" class="nav-link">
  通信
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="留言" class="dropdown-title"><span class="title">留言</span> <span class="arrow down"></span></button> <button type="button" aria-label="留言" class="mobile-dropdown-title"><span class="title">留言</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blog/message/message.html" class="nav-link">
  留言
</a></li></ul></div></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>算法</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>javascript</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>typescript</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>React</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>React实现</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Node</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>工程化</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/blog/工程化/1webpack的常用loader和plugin.html" class="sidebar-link">webpack的常用loader和plugin</a></li><li><a href="/blog/工程化/2webpack配置.html" class="sidebar-link">webpack配置</a></li><li><a href="/blog/工程化/3用Node.js构建CLI工具.html" class="active sidebar-link">用Node.js构建CLI工具</a></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>通信</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h2 id="cli-与gui介绍"><a href="#cli-与gui介绍" class="header-anchor">#</a> CLI 与GUI介绍</h2> <p><strong>命令行界面</strong>（英语：Command Line Interface，缩写：CLI）用户通过键盘输入指令，计算机接收到指令后，予以执行。</p> <p><strong>图形用户界面</strong>（英语：Graphical User Interface，缩写：GUI）是指采用图形方式显示的计算机操作用户界面。与早期计算机使用的命令行界面相比，除了降低用户的操作负担之外，对于新用户而言，图形界面对于用户来说在视觉上更易于接受。</p> <h2 id="cli-程序中的一些概念"><a href="#cli-程序中的一些概念" class="header-anchor">#</a> CLI 程序中的一些概念</h2> <h5 id="命令"><a href="#命令" class="header-anchor">#</a> <strong>命令</strong></h5> <p>通常我们执行的 CLI 程序本身就是一个命令（主命令），当 CLI 程序功能分类比较多的时候，可以根据子功能的不同提供更多的一些子命令，如：</p> <div class="language-bash extra-class"><pre class="language-bash"><code>// create 子命令
vue create <span class="token operator">&lt;</span>project-name<span class="token operator">&gt;</span>

// <span class="token function">add</span> 子命令
vue <span class="token function">add</span> <span class="token operator">&lt;</span>plugin-name<span class="token operator">&gt;</span>
</code></pre></div><h5 id="参数"><a href="#参数" class="header-anchor">#</a> <strong>参数</strong></h5> <p>参数是配合着命令调用传入的数据，类似函数参数，如下 <code>&lt;project-name&gt;</code>  app1就是参数：</p> <div class="language-bash extra-class"><pre class="language-bash"><code>vue create app1
</code></pre></div><h5 id="选项"><a href="#选项" class="header-anchor">#</a> <strong>选项</strong></h5> <p>选项是命令内置好的一些选项，以供调用命令的时候根据不同的需要进项选配：</p> <div class="language-bash extra-class"><pre class="language-bash"><code>// -f 或 --force 选项（当app1已存在的时候，-f 强制重新创建并覆盖）
vue create app1 -f
</code></pre></div><h2 id="bin-文件"><a href="#bin-文件" class="header-anchor">#</a> bin 文件</h2> <p>通常，node.js 文件需要使用 node 命令来运行，如：</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">node</span> test.js
</code></pre></div><p>我们可以使用如下的方式来简化脚本运行</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token hashbang comment">#!/usr/bin/env node</span>
<span class="token comment">// #! 行必须写在文件第一行，指定该脚本解析器路径</span>
<span class="token comment">// /usr/bin/env =&gt; env: 获取环境变量信息</span>
<span class="token comment">// /usr/bin/env node =&gt; env | grep PATH =&gt; 从电脑的环境变量 PATH 中查找 node 并执行</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'hello'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>现在可以命令行中省略 node 执行文件了</p> <div class="language- extra-class"><pre class="language-text"><code>./test.js
</code></pre></div><h2 id="命令行参数的获取"><a href="#命令行参数的获取" class="header-anchor">#</a> 命令行参数的获取</h2> <p>使用 Node.js 内置 <code>process</code> 对象的 <code>argv</code> 属性来获取这些数据：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">//app.js文件 </span>
#<span class="token operator">!</span><span class="token operator">/</span>usr<span class="token operator">/</span>bin<span class="token operator">/</span>env node

<span class="token comment">// process : 获取到当前程序运行的进程相关的一些信息和数据</span>
<span class="token comment">// process.argv : 当前程序运行的参数信息</span>
<span class="token comment">// output</span>
<span class="token comment">// ['node的路径','当前执行文件的路径','参数、选项'...]</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span> process<span class="token punctuation">.</span>argv <span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">//命令行</span>
$ <span class="token punctuation">.</span><span class="token operator">/</span>app<span class="token punctuation">.</span>js <span class="token operator">-</span>v
<span class="token punctuation">[</span>
  <span class="token string">'C:\\Program Files\\nodejs\\node.exe'</span><span class="token punctuation">,</span>
  <span class="token string">'C:\\Users\\Desktop\\test\\app.js'</span><span class="token punctuation">,</span>
  <span class="token string">'-v'</span>
<span class="token punctuation">]</span>
</code></pre></div><h2 id="commander-库"><a href="#commander-库" class="header-anchor">#</a> commander 库</h2> <p>该库对 process.argv 进行解析，并提供了更易用的 API</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">npm</span> <span class="token function">install</span> commander
</code></pre></div><p><strong>Commander类</strong></p> <p>通过实例化 Commander 类对象来完成 CLI 程序构建。</p> <div class="language- extra-class"><pre class="language-text"><code>const { Command } = require('commander');
const program = new Command();
</code></pre></div><p>或直接调用内置构建好的一个 实例对象：</p> <div class="language- extra-class"><pre class="language-text"><code>const { program } = require('commander');
</code></pre></div><p><strong>选项</strong></p> <p>通过 <code>option</code> 方法指定要解析的选项：</p> <div class="language- extra-class"><pre class="language-text"><code>program.option('-v, --version', '这是参数的描述');
// 设置选项参数
program.option('-p, --port', '端口', 80);
</code></pre></div><p><strong>可选</strong></p> <p><code>&lt;&gt;</code> 表示必填。</p> <div class="language- extra-class"><pre class="language-text"><code>program.option('-p, --port &lt;port&gt;', '端口', 80);
</code></pre></div><p><strong>必填</strong></p> <p><code>[]</code> 表示可选</p> <div class="language- extra-class"><pre class="language-text"><code>program.option('-p, --port [port]', '端口', 80);
</code></pre></div><p><strong>命令参数</strong></p> <div class="language- extra-class"><pre class="language-text"><code>program.argument('&lt;username&gt;', '登录用户名', '默认值');
</code></pre></div><p><strong>处理函数</strong></p> <p>当命令解析后的执行函数</p> <div class="language- extra-class"><pre class="language-text"><code>program.action((参数1，参数2, 选项列表, program) =&gt; {
  //...
});
</code></pre></div><h5 id="解析"><a href="#解析" class="header-anchor">#</a> <strong>解析</strong></h5> <div class="language- extra-class"><pre class="language-text"><code>program.parse(process.argv)
</code></pre></div><h5 id="使用示例"><a href="#使用示例" class="header-anchor">#</a> 使用示例</h5> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> <span class="token punctuation">{</span> Command <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'commander'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> program <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Command</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

program<span class="token punctuation">.</span><span class="token function">option</span><span class="token punctuation">(</span><span class="token string">'-v, --version'</span><span class="token punctuation">,</span> <span class="token string">'这是参数的描述'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
program<span class="token punctuation">.</span><span class="token function">option</span><span class="token punctuation">(</span><span class="token string">'-p,--port [port]'</span><span class="token punctuation">,</span> <span class="token string">'端口'</span><span class="token punctuation">,</span> <span class="token string">'8888'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span> process<span class="token punctuation">.</span>argv <span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 执行动作 opts里包含传入的参数</span>
program<span class="token punctuation">.</span><span class="token function">action</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">opts</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">输入的参数</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span> opts<span class="token punctuation">)</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>opts<span class="token punctuation">.</span>version<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">version: 1.0.0</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>opts<span class="token punctuation">.</span>port<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">端口: </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>opts<span class="token punctuation">.</span>port<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

program<span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span>process<span class="token punctuation">.</span>argv<span class="token punctuation">)</span>
</code></pre></div><h2 id="命令行字体美化"><a href="#命令行字体美化" class="header-anchor">#</a> 命令行字体美化</h2> <h2 id="chalk-库"><a href="#chalk-库" class="header-anchor">#</a> chalk 库</h2> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">//安装</span>
npm i chalk
<span class="token comment">//使用</span>
<span class="token keyword">const</span> chalk <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'chalk'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>chalk<span class="token punctuation">.</span><span class="token function">blue</span><span class="token punctuation">(</span><span class="token string">'Hello world!'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h2 id="交互式命令行"><a href="#交互式命令行" class="header-anchor">#</a> 交互式命令行</h2> <p>有时候，需要 CLI 程序能够与用户进行一些交互，比如提供给用户选项或者输入些文本。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">//安装</span>
npm install inquirer
</code></pre></div><h5 id="使用示例-2"><a href="#使用示例-2" class="header-anchor">#</a> 使用示例</h5> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> inquirer <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'inquirer'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> promptOptions <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

promptOptions<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">&quot;input&quot;</span><span class="token punctuation">,</span>
    <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&quot;serverName&quot;</span><span class="token punctuation">,</span>
    <span class="token literal-property property">message</span><span class="token operator">:</span> <span class="token string">&quot;请输入应用名称&quot;</span><span class="token punctuation">,</span>
    <span class="token keyword">default</span><span class="token operator">:</span> <span class="token string">&quot;app&quot;</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
promptOptions<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">&quot;checkbox&quot;</span><span class="token punctuation">,</span>
    <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&quot;middlewares&quot;</span><span class="token punctuation">,</span>
    <span class="token literal-property property">message</span><span class="token operator">:</span> <span class="token string">&quot;请选择要安装的中间件&quot;</span><span class="token punctuation">,</span>
    <span class="token literal-property property">choices</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'koa-static-cache'</span><span class="token punctuation">,</span> <span class="token string">'koa-router'</span><span class="token punctuation">,</span> <span class="token string">'koa-body'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token keyword">default</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'koa-static-cache'</span><span class="token punctuation">,</span> <span class="token string">'koa-router'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

inquirer<span class="token punctuation">.</span><span class="token function">prompt</span><span class="token punctuation">(</span>promptOptions<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">answer</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'answer'</span><span class="token punctuation">,</span> answer<span class="token punctuation">)</span>
    <span class="token comment">// answer {</span>
    <span class="token comment">//     serverName: ' app2',</span>
    <span class="token comment">//     middlewares: [ 'koa-static-cache', 'koa-router', 'koa-body' ]</span>
    <span class="token comment">//   }</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><h2 id="如何执行shell"><a href="#如何执行shell" class="header-anchor">#</a> 如何执行shell</h2> <h5 id="通过指令获取参数和创建对应的文件夹后-需要执行npm-init-和等npm-i-指令"><a href="#通过指令获取参数和创建对应的文件夹后-需要执行npm-init-和等npm-i-指令" class="header-anchor">#</a> 通过指令获取参数和创建对应的文件夹后，需要执行npm init 和等npm i 指令</h5> <p>在这之前需要先了解下node如何实现多进程通信。因为我们需要在新创建的文件夹内执行命令。而在当前cli的路径内打印出执行消息。</p> <h5 id="node-js-内置-process-child-子进程"><a href="#node-js-内置-process-child-子进程" class="header-anchor">#</a> Node.js 内置 process_child（子进程）</h5> <p>process_child 提供了几种方式来新建子进程</p> <p>官网介绍地址：<a href="https://nodejs.org/dist/latest-v6.x/docs/api/child_process.html#child_process_child_process_spawn_command_args_options" target="_blank" rel="noopener noreferrer">https://nodejs.org/dist/latest-v6.x/docs/api/child_process.html#child_process_child_process_spawn_command_args_options<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p>新建子进程的方式</p> <p><strong>spawn ：</strong></p> <p>子进程中执行的是非node程序，提供一组参数后，执行的结果以流（Stream）的形式返回。</p> <p><strong>exec：</strong></p> <p>子进程执行的是非node程序，传入一串shell命令，执行后结果以回调的形式（Buffer）返回，与execFile不同的是exec可以直接执行一串shell命令。</p> <p><strong>execFile：</strong></p> <p>子进程中执行的是非node程序，提供一组参数后，执行的结果以回调的形式返回。</p> <p><strong>fork：</strong></p> <p>子进程执行的是node程序，提供一组参数后，执行的结果以流的形式返回，与spawn不同，fork生成的子进程只能执行node应用。</p> <h5 id="子进程的和父进程的通信有三类信息stdin、stdout、stderr-通过来设置"><a href="#子进程的和父进程的通信有三类信息stdin、stdout、stderr-通过来设置" class="header-anchor">#</a> 子进程的和父进程的通信有三类信息stdin、stdout、stderr，通过来设置</h5> <p>介绍地址：<a href="https://nodejs.org/dist/latest-v6.x/docs/api/child_process.html#child_process_options_stdio" target="_blank" rel="noopener noreferrer">https://nodejs.org/dist/latest-v6.x/docs/api/child_process.html#child_process_options_stdio<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p><strong>stdio</strong> 设置</p> <p><strong>pipe：</strong></p> <p>相当于['pipe', 'pipe', 'pipe']，子进程的stdio和父进程的stdio通过管道进行连接。</p> <p><strong>ignore：</strong></p> <p>相当于['ignore','ignore', 'ignore']，子进程的stdio绑定到/dev/null,丢弃数据的输入输出。</p> <p><strong>inherit：</strong></p> <p>继承父进程相关的stdio,等同于[process.stdin,process.stdout,process.sterr]或者[0,1,2],此时子进程的stdio都是绑定在同一个地方。</p> <h5 id="使用示例-3"><a href="#使用示例-3" class="header-anchor">#</a> 使用示例</h5> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> spawn <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'child_process'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>spawn<span class="token punctuation">;</span>

<span class="token keyword">const</span> ls <span class="token operator">=</span> <span class="token function">spawn</span><span class="token punctuation">(</span><span class="token string">'ls'</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token string">'-lh'</span><span class="token punctuation">,</span> <span class="token string">'/usr'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

ls<span class="token punctuation">.</span>stdout<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">'data'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">data</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">stdout: </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>data<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

ls<span class="token punctuation">.</span>stderr<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">'data'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">data</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">stderr: </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>data<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

ls<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">'close'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">code</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">child process exited with code </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>code<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//或者</span>
<span class="token keyword">const</span> spawn <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'child_process'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>spawn<span class="token punctuation">;</span>
<span class="token comment">// 在node里执行shell命令</span>
<span class="token function">spawn</span><span class="token punctuation">(</span><span class="token string">'ls'</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token string">'-lh'</span><span class="token punctuation">,</span> <span class="token string">'/usr'</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">{</span>
    <span class="token literal-property property">stdio</span><span class="token operator">:</span> <span class="token punctuation">[</span> <span class="token string">'inherit'</span><span class="token punctuation">,</span>  <span class="token string">'inherit'</span><span class="token punctuation">,</span>  <span class="token string">'inherit'</span> <span class="token punctuation">]</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="一个执行shell的便捷库"><a href="#一个执行shell的便捷库" class="header-anchor">#</a> 一个执行shell的便捷库</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">//安装</span>
npm install execa
</code></pre></div><div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// 使用 同步模式执行指定命令。</span>
<span class="token keyword">const</span> cmd <span class="token operator">=</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">npm init -y</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span>
execa<span class="token punctuation">.</span><span class="token function">commandSync</span><span class="token punctuation">(</span>cmd<span class="token punctuation">,</span> <span class="token punctuation">{</span>
  <span class="token comment">//指令执行路径</span>
  <span class="token literal-property property">cwd</span><span class="token operator">:</span> options<span class="token punctuation">.</span>rootDirectory<span class="token punctuation">,</span>
  <span class="token comment">//通信方式设置</span>
  <span class="token literal-property property">stdio</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;inherit&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;inherit&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;inherit&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h2 id="其它一些工具库"><a href="#其它一些工具库" class="header-anchor">#</a> 其它一些工具库</h2> <p><strong>package name 验证库</strong></p> <p><a href="https://www.npmjs.com/package/validate-npm-package-name" target="_blank" rel="noopener noreferrer">npm: validate-npm-package-name<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p><strong>增强版的 fs 模块</strong></p> <p><a href="https://www.npmjs.com/package/fs-extra" target="_blank" rel="noopener noreferrer">npm: fs-extra<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p><strong>打开浏览器</strong></p> <p><a href="https://www.npmjs.com/package/open" target="_blank" rel="noopener noreferrer">npm: open<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <h2 id="package-json-中的-bin-字段"><a href="#package-json-中的-bin-字段" class="header-anchor">#</a> package.json 中的 bin 字段</h2> <p>安装依赖时，如果包的 <code>package.json</code> 文件有 bin 字段，就会在 <code>node_modules</code> 文件夹下面的 <code>.bin</code> 目录中复制了 bin 字段链接的执行文件。我们在调用执行文件时，可以不带路径，直接使用命令名来执行相对应的执行文件。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token punctuation">{</span>
  <span class="token string-property property">&quot;bin&quot;</span><span class="token operator">:</span> <span class="token string">&quot;./xxx.js&quot;</span>
<span class="token punctuation">}</span>
</code></pre></div><div class="language-js extra-class"><pre class="language-js"><code><span class="token literal-property property">scripts</span><span class="token operator">:</span> <span class="token punctuation">{</span>  
  <span class="token literal-property property">start</span><span class="token operator">:</span> <span class="token string">'./node_modules/bin/xxx.js build'</span>
<span class="token punctuation">}</span>
<span class="token comment">// 简写为</span>
<span class="token literal-property property">scripts</span><span class="token operator">:</span> <span class="token punctuation">{</span>  
  <span class="token literal-property property">start</span><span class="token operator">:</span> <span class="token string">'xxx build'</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="完整的使用例子"><a href="#完整的使用例子" class="header-anchor">#</a> 完整的使用例子</h2> <p>地址：<a href="https://www.npmjs.com/package/le-koa-server" target="_blank" rel="noopener noreferrer">https://www.npmjs.com/package/le-koa-server<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <div class="language- extra-class"><pre class="language-text"><code>//安装
npm i le-koa-server -g
//执行命令
le-koa-server
</code></pre></div><p>le-koa-server.js</p> <div class="language- extra-class"><pre class="language-text"><code>#!/usr/bin/env node
const { Command } = require('commander');
const packageJson = require('./package.json')
const fs = require('fs')
const chalk = require('chalk');
const validateNpmProjectName = require('validate-npm-package-name')
const inquirer = require('inquirer');
const execa = require('execa')
const open = require(&quot;open&quot;)
const program = new Command();


program.version(packageJson.version);
// 设置选项信息
program.option('-p,--port [port]', '端口');
// 设置参数
// le-koa-server app -p 9999
program.argument('[server-name]', 'server 的名称，英文、数字、_组成');

// 执行动作，参数是一一对应的。选项会集中解析到对象，放在最后一项。(参数1，参数2，...选项)
program.action(async (webServerName, opts) =&gt; {
    const promptOptions = [];

    promptOptions.push({
        type: &quot;input&quot;,
        name: &quot;serverName&quot;,
        message: &quot;请输入应用名称&quot;,
        default: &quot;app&quot;,
    });
    promptOptions.push({
        type: &quot;input&quot;,
        name: &quot;serverPort&quot;,
        message: &quot;请输入应用端口&quot;,
        default: 8888,
    });
    promptOptions.push({
        type: &quot;checkbox&quot;,
        name: &quot;middlewares&quot;,
        message: &quot;请选择要安装的中间件&quot;,
        choices: ['koa-static-cache', 'koa-router', 'koa-body'],
        default: ['koa-static-cache', 'koa-router'],
    });

    //第二个参数说明：如果用户已经通过指令输入了值，不必再询问用户。
    const answer = await inquirer.prompt(promptOptions, {
        serverName: webServerName,
        serverPort: opts.port,
    });

    // 整理用户输入和选择的信息。process.cwd()当前用户执行指令的路径
    const options = {
        serverName: answer.serverName,
        serverPort: answer.serverPort,
        rootDirectory: process.cwd() + `/${answer.serverName}`,
        dependencies: ['nodemon', 'koa', ...answer.middlewares]
    }

    //校验名称是否合法
    if (validateNpmProjectName(options.serverName).errors?.length) {
        console.error(chalk.red(`无效的项目名称：${options.serverName}`))
        process.exit(1);
    }

    //创建文件夹
    try {
        fs.mkdirSync(options.serverName);
    } catch (e) {
        console.error(chalk.red.bgWhite(`${options.serverName} 已经存在了`))
        process.exit(1);
    }

    // 初始化package.json
    const cmd = `npm init -y`;
    execa.commandSync(cmd, {
        cwd: options.rootDirectory,
        stdio: [&quot;ignore&quot;, &quot;ignore&quot;, &quot;ignore&quot;],
    });

    // 安装依赖
    const dependeniesCmd = `npm install ${options.dependencies.join(' ')}`

    execa.commandSync(dependeniesCmd, {
        cwd: options.rootDirectory,
        stdio: [&quot;inherit&quot;, &quot;inherit&quot;, &quot;inherit&quot;],
    });


    // 生成入口文件
    const log = `&quot;服务启动成功：http://localhost:${options.serverPort}&quot;`
    const content = `
        const Koa = require('koa');

        const app = new Koa();
        
        app.use((ctx, next) =&gt; {
            ctx.body = 'Hello';
        });
        
        app.listen(${options.serverPort}, () =&gt; {
            console.log(${log});
        });
    `;
    const entryFile = options.rootDirectory + &quot;/app.js&quot;;
    fs.writeFileSync(entryFile, content, {
        encoding: &quot;utf-8&quot;,
    });

    // 打开浏览器
    await open(`http://localhost:${options.serverPort}`);

    // 启动应用
    const runCmd = `nodemon app.js --port=${options.serverPort}`;
    execa.commandSync(runCmd, {
        cwd: options.rootDirectory,
        stdio: [&quot;inherit&quot;, &quot;inherit&quot;, &quot;inherit&quot;],
    });


});


// 开始解析
program.parse();
</code></pre></div><p>package.json</p> <div class="language- extra-class"><pre class="language-text"><code>{
&quot;name&quot;: &quot;le-koa-server&quot;,
&quot;version&quot;: &quot;1.0.0&quot;,
&quot;description&quot;: &quot;&quot;,
&quot;main&quot;: &quot;app.js&quot;,
&quot;dependencies&quot;: {
&quot;chalk&quot;: &quot;^4.1.2&quot;,
&quot;commander&quot;: &quot;^8.2.0&quot;,
&quot;execa&quot;: &quot;^5.1.1&quot;,
&quot;inquirer&quot;: &quot;^8.1.5&quot;,
&quot;open&quot;: &quot;^8.2.1&quot;,
&quot;validate-npm-package-name&quot;: &quot;^3.0.0&quot;
},
&quot;devDependencies&quot;: {},
&quot;scripts&quot;: {
&quot;test&quot;: &quot;echo &quot;Error: no test specified&quot; &amp;&amp; exit 1&quot;
},
&quot;bin&quot;: &quot;./le-koa-server.js&quot;,
&quot;keywords&quot;: [],
&quot;author&quot;: &quot;&quot;,
&quot;license&quot;: &quot;ISC&quot;
}
</code></pre></div><h2 id="在-npm-上发布-package"><a href="#在-npm-上发布-package" class="header-anchor">#</a> 在 NPM 上发布 package</h2> <p>我们可以把本地的 package 发布到 npm 仓库让其他人使用，相关操作如下：</p> <h4 id="_1、注册-npm-账户"><a href="#_1、注册-npm-账户" class="header-anchor">#</a> 1、注册 npm 账户</h4> <p>注册：<a href="https://www.npmjs.com/signup" target="_blank" rel="noopener noreferrer">https://www.npmjs.com/signup<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> 。
如果要发布npm包，需要验证邮箱也完成。</p> <h4 id="_2、登录"><a href="#_2、登录" class="header-anchor">#</a> 2、登录</h4> <p>使用 npm login 登录授权</p> <div class="language- extra-class"><pre class="language-text"><code>npm login
// 后续会提示输入用户名和密码
</code></pre></div><h4 id="_3、发布"><a href="#_3、发布" class="header-anchor">#</a> 3、发布</h4> <p>使用 npm publish 命令发布</p> <div class="language- extra-class"><pre class="language-text"><code>npm publish
</code></pre></div><p>也可以登录 npm 的 web 端，对已发布的应用进行管理</p> <h4 id="注意"><a href="#注意" class="header-anchor">#</a> 注意</h4> <p>发布到 npm 仓库上的 package，必须包含 package.json 文件，且内容格式必须满足特定要求：</p> <p><a href="https://docs.npmjs.com/cli/v7/configuring-npm/package-json" target="_blank" rel="noopener noreferrer">https://docs.npmjs.com/cli/v7/configuring-npm/package-json<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p>package 的名字除了满足格式要求外，要发布到 npm 仓库中的 package 名称不能重复，可以使用 scope 来进行命名</p> <h4 id="_4、更新"><a href="#_4、更新" class="header-anchor">#</a> 4、更新</h4> <div class="language- extra-class"><pre class="language-text"><code>npm update
</code></pre></div><h4 id="_5、删除"><a href="#_5、删除" class="header-anchor">#</a> 5、删除</h4> <div class="language- extra-class"><pre class="language-text"><code>npm unpublish
</code></pre></div></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/blog/工程化/2webpack配置.html" class="prev">
        webpack配置
      </a></span> <span class="next"><a href="/blog/通信/1AJAX.html">
        AJAX
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"><!----></div></div>
    <script src="/assets/js/app.fdf1d93e.js" defer></script><script src="/assets/js/2.07a58c5b.js" defer></script><script src="/assets/js/48.2ad9a324.js" defer></script>
  </body>
</html>
